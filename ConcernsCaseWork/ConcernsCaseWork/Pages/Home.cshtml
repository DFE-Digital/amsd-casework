@page
@model ConcernsCaseWork.Pages.HomeModel

@{
	ViewData["Title"] = "Home";
}

<div class="govuk-width-1000-container govuk-!-margin-top-0">

	<div class="govuk-button-group flexalign__right">
		<a class="govuk-link" href="#">
			Closed cases
		</a>
		<a class="govuk-button" asp-page="/case/index" role="button">
			Create case
		</a>
	</div>

	<!-- Active casework -->
	@if (Model.CasesActive.Count == 0)
	{
		<span>There are no cases available.</span>
	}
	else
	{
		<table class="govuk-table">
			<caption class="govuk-table__caption govuk-table__caption--m">
				Your active casework
			</caption>
			<thead class="govuk-table__head">
				<tr class="govuk-table__row tr__large">
					<th class="govuk-table__header" scope="col">
						Case ID
					</th>
					<th class="govuk-table__header" scope="col">
						Last update
					</th>
					<th class="govuk-table__header" scope="col">
						Trust/Academy
					</th>
					<th class="govuk-table__header" scope="col">
						Primary case type
					</th>
					<th class="govuk-table__header" scope="col">
						RAG rating
					</th>
					<th class="govuk-table__header" scope="col">
						Created
					</th>
				</tr>
			</thead>
			<tbody class="govuk-table__body">
			@{
				foreach (var caseModel in Model.CasesActive)
				{
					<tr class="govuk-table__row tr__large">
						<td class="govuk-table__cell">
							<a href="#">@caseModel.Id</a>
						</td>
						<td class="govuk-table__cell">
							@caseModel.LastUpdate
						</td>
						<td class="govuk-table__cell">
							@caseModel.TrustName
							<br>
							@caseModel.TrustName
						</td>
						<td class="govuk-table__cell">@caseModel.Type</td>
						<td class="govuk-table__cell">
							@if (@caseModel.Rag == 0)
							{
								@Model.Rags[@caseModel.Rag]
							}
							else
							{
								<span class="govuk-tag ragtag @Model.RagsCss[@caseModel.Rag]">@Model.Rags[@caseModel.Rag]</span>
							}
						</td>
						<td class="govuk-table__cell">
							@caseModel.Created
						</td>
					</tr>
				}
			}
			</tbody>
		</table>
	}
	
	<!-- Closed for monitoring -->
	@if (Model.CasesMonitoring.Count == 0)
    {
    	<span>There are no cases available.</span>
    }
	else
	{
		<table class="govuk-table  govuk-!-margin-top-9">
			<caption class="govuk-table__caption govuk-table__caption--m">
				Closed for monitoring
			</caption>

			<thead class="govuk-table__head">
				<tr class="govuk-table__row tr__large">
					<th class="govuk-table__header" scope="col">
						Case ID
					</th>
					<th class="govuk-table__header" scope="col">
						Trust/Academy
					</th>
					<th class="govuk-table__header" scope="col">
						Primary case type
					</th>
					<th class="govuk-table__header" scope="col">
						Closed
					</th>
				</tr>
			</thead>

			<tbody class="govuk-table__body">
            @{
            	foreach (var caseModel in Model.CasesMonitoring)
            	{
            		<tr class="govuk-table__row tr__large">
            			<td class="govuk-table__cell">
            				<a href="#">@caseModel.Id</a>
            			</td>
			            <td class="govuk-table__cell">
            				@caseModel.TrustName
            				<br>
            				@caseModel.TrustName
            			</td>
			            <td class="govuk-table__cell">
				            @caseModel.Type
			            </td>
			            <td class="govuk-table__cell">
				            @caseModel.Closed
			            </td>
            		</tr>
            	}
            }
            </tbody>
		</table>
	}
	
</div>