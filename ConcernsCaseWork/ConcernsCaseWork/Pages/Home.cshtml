@page
@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer _localizer
@model ConcernsCaseWork.Pages.HomeModel

@{
	ViewData["Title"] = "Home";
}

<div class="govuk-!-margin-top-0">

	<div class="govuk-button-group flexalign__right">
		<a class="govuk-link" href="#">
			@_localizer["Button:ClosedCases"]
		</a>
		<a class="govuk-button" asp-page="/case/index" role="button">
			@_localizer["Button:CreateCase"]
		</a>
	</div>

	<!-- Active casework -->
	@if (Model.CasesActive.Count == 0)
	{
		<span>@_localizer["Table:EmptyCases"]</span>
	}
	else
	{
		<table class="govuk-table">
			<caption class="govuk-table__caption govuk-table__caption--m">
				@_localizer["Table:Header:ActiveCases"]
			</caption>
			<thead class="govuk-table__head">
				<tr class="govuk-table__row tr__large">
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:ID"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:LastUpdate"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:TrustAcademy"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:PrimaryCaseType"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:RagRating"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:Created"]
					</th>
				</tr>
			</thead>
			<tbody class="govuk-table__body">
			@{
				foreach (var caseModel in Model.CasesActive)
				{
					<tr class="govuk-table__row tr__large">
						<td class="govuk-table__cell">
							<a href="#">@caseModel.Id</a>
						</td>
						<td class="govuk-table__cell">
							@caseModel.LastUpdate
						</td>
						<td class="govuk-table__cell">
							@caseModel.TrustName
							<br>
							@caseModel.TrustName
						</td>
						<td class="govuk-table__cell">@caseModel.Type</td>
						<td class="govuk-table__cell">
							@if (@caseModel.Rag == 0)
							{
								@Model.Rags[@caseModel.Rag]
							}
							else
							{
								<span class="govuk-tag ragtag @Model.RagsCss[@caseModel.Rag]">@Model.Rags[@caseModel.Rag]</span>
							}
						</td>
						<td class="govuk-table__cell">
							@caseModel.Created
						</td>
					</tr>
				}
			}
			</tbody>
		</table>
	}
	
	<!-- Closed for monitoring -->
	@if (Model.CasesMonitoring.Count == 0)
    {
    	<span>@_localizer["Table:EmptyCases"]</span>
    }
	else
	{
		<table class="govuk-table  govuk-!-margin-top-9">
			<caption class="govuk-table__caption govuk-table__caption--m">
				@_localizer["Table:Header:MonitoringCases"]
			</caption>

			<thead class="govuk-table__head">
				<tr class="govuk-table__row tr__large">
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:ID"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:TrustAcademy"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:PrimaryCaseType"]
					</th>
					<th class="govuk-table__header" scope="col">
						@_localizer["Table:Column:Closed"]
					</th>
				</tr>
			</thead>

			<tbody class="govuk-table__body">
            @{
            	foreach (var caseModel in Model.CasesMonitoring)
            	{
            		<tr class="govuk-table__row tr__large">
            			<td class="govuk-table__cell">
            				<a href="#">@caseModel.Id</a>
            			</td>
			            <td class="govuk-table__cell">
            				@caseModel.TrustName
            				<br>
            				@caseModel.TrustName
            			</td>
			            <td class="govuk-table__cell">
				            @caseModel.Type
			            </td>
			            <td class="govuk-table__cell">
				            @caseModel.Closed
			            </td>
            		</tr>
            	}
            }
            </tbody>
		</table>
	}
	
</div>